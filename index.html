<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>رکورد دوچرخه‌سواری</title>
  <style>
    body {
      font-family: sans-serif;
      direction: rtl;
      margin: 0;
      padding: 0;
      background: #f3f3f3;
    }
    header {
      background: #4caf50;
      color: white;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav a {
      color: white;
      margin: 0 10px;
      text-decoration: none;
      font-weight: bold;
    }
    .lang-toggle {
      cursor: pointer;
      background: white;
      color: #4caf50;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
    }
    .section {
      padding: 20px;
    }
    #gallery img, #gallery video {
      max-width: 100%;
      margin: 10px 0;
      border-radius: 10px;
    }
    form input, form textarea, form button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    #adminUpload {
      display: none;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="#intro" data-i18n="menu.intro">معرفی</a>
      <a href="#gallery" data-i18n="menu.gallery">گالری</a>
      <a href="#comments" data-i18n="menu.comments">نظرات</a>
    </nav>
    <button class="lang-toggle" onclick="toggleLang()">English</button>
  </header>  <section class="section" id="intro">
    <h2 data-i18n="intro.title">ثبت رکورد دوچرخه‌سواری</h2>
    <p data-i18n="intro.desc">من قصد دارم یک رکورد دوچرخه‌سواری ثبت کنم. برای این مسیر نیاز به حمایت دارم.</p>
    <p><strong data-i18n="contact.phone">تلفن:</strong> +989121831998</p>
    <p><strong data-i18n="contact.email">ایمیل:</strong> m1961r1340632@gmail.com</p>
  </section>  <section class="section" id="gallery">
    <h2 data-i18n="gallery.title">تصاویر و ویدیوها</h2>
    <img src="https://via.placeholder.com/600x300" alt="نمونه عکس" />
    <video controls src="https://www.w3schools.com/html/mov_bbb.mp4"></video>
  </section>  <section class="section" id="comments">
    <h2 data-i18n="comments.title">ثبت نظر</h2>
    <form id="commentForm">
      <input name="name" placeholder="نام" data-i18n-placeholder="comments.name" required />
      <textarea name="message" placeholder="پیام شما" data-i18n-placeholder="comments.message" required></textarea>
      <button type="submit" data-i18n="comments.submit">ثبت نظر</button>
    </form>
    <div id="commentsList"></div>
  </section>  <section class="section" id="adminUpload">
    <h2 data-i18n="upload.title">بارگذاری فایل (فقط مدیر)</h2>
    <input type="password" id="adminPass" placeholder="رمز ورود مدیر" />
    <input type="file" id="fileInput" />
    <button onclick="uploadFile()" data-i18n="upload.send">ارسال فایل</button>
    <p id="uploadStatus"></p>
  </section>  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbz0rL7bS7xXjZBEqQuKS_Y2sqdCUt78NHNGzVI5xoWzd3Uc-uxHsoCvhdMQx3Whvte7/exec";
    const adminPassword = "admin123";

    document.getElementById("adminPass").addEventListener("input", (e) => {
      if (e.target.value === adminPassword) {
        document.getElementById("fileInput").style.display = "block";
      }
    });

    async function uploadFile() {
      const file = document.getElementById("fileInput").files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = async function(e) {
        const b64 = e.target.result.split(",")[1];
        const form = new FormData();
        form.append("fileData", b64);
        form.append("mimeType", file.type);
        form.append("fileName", file.name);

        const res = await fetch(scriptURL, { method: "POST", body: form });
        const text = await res.text();
        document.getElementById("uploadStatus").innerText = text.includes("http") ? "آپلود موفق" : "خطا در آپلود";
      };
      reader.readAsDataURL(file);
    }

    document.getElementById("commentForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const name = e.target.name.value;
      const message = e.target.message.value;
      const div = document.createElement("div");
      div.innerHTML = <strong>${name}</strong><p>${message}</p><hr>;
      document.getElementById("commentsList").prepend(div);
      e.target.reset();
    });

    let currentLang = "fa";
    const translations = {
      en: {
        "menu.intro": "Intro",
        "menu.gallery": "Gallery",
        "menu.comments": "Comments",
        "intro.title": "Cycling Record",
        "intro.desc": "I'm going to register a cycling record and need support.",
        "contact.phone": "Phone:",
        "contact.email": "Email:",
        "gallery.title": "Photos & Videos",
        "comments.title": "Leave a Comment",
        "comments.name": "Name",
        "comments.message": "Your message",
        "comments.submit": "Submit",
        "upload.title": "Upload (Admin only)",
        "upload.send": "Send File"
      },
      fa: {}
    };

    function toggleLang() {
      currentLang = currentLang === "fa" ? "en" : "fa";
      document.documentElement.lang = currentLang;
      document.body.style.direction = currentLang === "fa" ? "rtl" : "ltr";
      document.querySelector(".lang-toggle").innerText = currentLang === "fa" ? "English" : "فارسی";
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (translations[currentLang][key]) el.innerText = translations[currentLang][key];
      });
      document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
        const key = el.getAttribute("data-i18n-placeholder");
        if (translations[currentLang][key]) el.setAttribute("placeholder", translations[currentLang][key]);
      });
    }
  </script></body>
</html>
